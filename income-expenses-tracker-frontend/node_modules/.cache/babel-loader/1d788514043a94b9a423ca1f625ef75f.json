{"ast":null,"code":"import{useContext,useEffect}from\"react\";import{Link,useParams}from\"react-router-dom\";import{PlusIcon}from\"@heroicons/react/20/solid\";import{accountContext}from\"../context/AccountContext/AccountContext\";import AllTransactions from\"./AllTransactions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function AccountDetails(){var _account$transactions,_account$transactions2,_account$transactions3;var _useContext=useContext(accountContext),getAccountDetailsAction=_useContext.getAccountDetailsAction,account=_useContext.account;var _useParams=useParams(),accountID=_useParams.accountID;useEffect(function(){getAccountDetailsAction(accountID);},[accountID]);console.log(account);//Calculate total income\nvar totalIncome=account===null||account===void 0?void 0:(_account$transactions=account.transactions)===null||_account$transactions===void 0?void 0:_account$transactions.reduce(function(acc,transaction){if((transaction===null||transaction===void 0?void 0:transaction.transactionType)===\"Income\"){return acc+(transaction===null||transaction===void 0?void 0:transaction.amount);}else{return acc;}},0);//Calculate total Expenses\nvar totalExpenses=account===null||account===void 0?void 0:(_account$transactions2=account.transactions)===null||_account$transactions2===void 0?void 0:_account$transactions2.reduce(function(acc,transaction){if((transaction===null||transaction===void 0?void 0:transaction.transactionType)===\"Expenses\"){return acc+(transaction===null||transaction===void 0?void 0:transaction.amount);}else{return acc;}},0);return/*#__PURE__*/_jsx(_Fragment,{children:(account===null||account===void 0?void 0:(_account$transactions3=account.transactions)===null||_account$transactions3===void 0?void 0:_account$transactions3.length)<=0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center text-red-500 m-10\",children:\"This Account Don't have any transaction\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(Link,{to:\"/add-transaction/\".concat(accountID),className:\"relative inline-flex items-center rounded-md border border-transparent bg-indigo-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-800\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"-ml-1 mr-2 h-5 w-5\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{children:\"New Transaction\"})]})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 pt-12 sm:pt-16\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto max-w-4xl text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl\",children:account===null||account===void 0?void 0:account.name}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 text-xl text-gray-500 sm:mt-4\",children:\"here is your total income balance and expenses\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-10 bg-white pb-12 sm:pb-16\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 h-1/2 bg-gray-50\"}),/*#__PURE__*/_jsx(\"div\",{className:\"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto max-w-4xl\",children:/*#__PURE__*/_jsxs(\"dl\",{className:\"rounded-lg bg-white shadow-lg sm:grid sm:grid-cols-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col border-b border-gray-100 p-6 text-center sm:border-0 sm:border-r\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\" mt-2 text-lg font-medium leading-6 text-gray-500\",children:\"Total Balance\"}),/*#__PURE__*/_jsxs(\"dd\",{className:\" text-5xl font-bold tracking-tight text-indigo-600\",children:[\"\\u20B9\",\" \",totalIncome+(account===null||account===void 0?void 0:account.initialBalance)-totalExpenses]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col border-t border-b border-gray-100 p-6 text-center sm:border-0 sm:border-l sm:border-r\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\" mt-2 text-lg font-medium leading-6 text-gray-500\",children:\"Total Expenses\"}),/*#__PURE__*/_jsxs(\"dd\",{className:\" text-5xl font-bold tracking-tight text-red-600\",children:[\"\\u20B9 \",totalExpenses]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col border-t border-gray-100 p-6 text-center sm:border-0 sm:border-l\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\" mt-2 text-lg font-medium leading-6 text-gray-500\",children:\"Total Income\"}),/*#__PURE__*/_jsxs(\"dd\",{className:\" text-5xl font-bold tracking-tight text-green-600\",children:[\"\\u20B9 \",totalIncome+(account===null||account===void 0?void 0:account.initialBalance)]})]})]})})})]})})]}),/*#__PURE__*/_jsx(AllTransactions,{transactions:account===null||account===void 0?void 0:account.transactions,accountID:accountID})]})});}","map":{"version":3,"names":["useContext","useEffect","Link","useParams","PlusIcon","accountContext","AllTransactions","AccountDetails","getAccountDetailsAction","account","accountID","console","log","totalIncome","transactions","reduce","acc","transaction","transactionType","amount","totalExpenses","length","name","initialBalance"],"sources":["C:/income tracer project/income-expenses-tracker (frontend)/src/components/Dashbaord/AccountDetails.js"],"sourcesContent":["import { useContext, useEffect } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { PlusIcon } from \"@heroicons/react/20/solid\";\nimport { accountContext } from \"../context/AccountContext/AccountContext\";\nimport AllTransactions from \"./AllTransactions\";\n\nexport default function AccountDetails() {\n  const { getAccountDetailsAction, account } = useContext(accountContext);\n  const { accountID } = useParams();\n  useEffect(() => {\n    getAccountDetailsAction(accountID);\n  }, [accountID]);\n  console.log(account);\n  //Calculate total income\n  const totalIncome = account?.transactions?.reduce((acc, transaction) => {\n    if (transaction?.transactionType === \"Income\") {\n      return acc + transaction?.amount;\n    } else {\n      return acc;\n    }\n  }, 0);\n\n  //Calculate total Expenses\n  const totalExpenses = account?.transactions?.reduce((acc, transaction) => {\n    if (transaction?.transactionType === \"Expenses\") {\n      return acc + transaction?.amount;\n    } else {\n      return acc;\n    }\n  }, 0);\n\n  return (\n    <>\n      {account?.transactions?.length <= 0 ? (\n        <>\n          <h2 className=\"text-center text-red-500 m-10\">\n            This Account Don't have any transaction\n          </h2>\n\n          <div className=\"text-center\">\n            <Link\n              to={`/add-transaction/${accountID}`}\n              className=\"relative inline-flex items-center rounded-md border border-transparent bg-indigo-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-800\"\n            >\n              <PlusIcon className=\"-ml-1 mr-2 h-5 w-5\" aria-hidden=\"true\" />\n              <span>New Transaction</span>\n            </Link>\n          </div>\n        </>\n      ) : (\n        <>\n          <div className=\"bg-gray-50 pt-12 sm:pt-16\">\n            <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n              <div className=\"mx-auto max-w-4xl text-center\">\n                <h2 className=\"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl\">\n                  {account?.name}\n                </h2>\n                <p className=\"mt-3 text-xl text-gray-500 sm:mt-4\">\n                 here is your total income balance and expenses \n                </p>\n              </div>\n            </div>\n            <div className=\"mt-10 bg-white pb-12 sm:pb-16\">\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 h-1/2 bg-gray-50\" />\n                <div className=\"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n                  <div className=\"mx-auto max-w-4xl\">\n                    <dl className=\"rounded-lg bg-white shadow-lg sm:grid sm:grid-cols-3\">\n                      <div className=\"flex flex-col border-b border-gray-100 p-6 text-center sm:border-0 sm:border-r\">\n                        <dt className=\" mt-2 text-lg font-medium leading-6 text-gray-500\">\n                          Total Balance\n                        </dt>\n                        <dd className=\" text-5xl font-bold tracking-tight text-indigo-600\">\n                        ₹{\" \"}\n                          {totalIncome +\n                            account?.initialBalance -\n                            totalExpenses}\n                        </dd>\n                      </div>\n                      <div className=\"flex flex-col border-t border-b border-gray-100 p-6 text-center sm:border-0 sm:border-l sm:border-r\">\n                        <dt className=\" mt-2 text-lg font-medium leading-6 text-gray-500\">\n                          Total Expenses\n                        </dt>\n                        <dd className=\" text-5xl font-bold tracking-tight text-red-600\">\n                        ₹ {totalExpenses}\n                        </dd>\n                        {/* <Link\n                          to={`/expenses-list/${3}`}\n                          className=\"  font-bold tracking-tight text-green-600\"\n                        >\n                          View History\n                        </Link> */}\n                      </div>\n                      <div className=\"flex flex-col border-t border-gray-100 p-6 text-center sm:border-0 sm:border-l\">\n                        <dt className=\" mt-2 text-lg font-medium leading-6 text-gray-500\">\n                          Total Income\n                        </dt>\n                        <dd className=\" text-5xl font-bold tracking-tight text-green-600\">\n                        ₹ {totalIncome + account?.initialBalance}\n                        </dd>\n                        {/* <Link\n                          to={`/income-list/`}\n                          className=\"  font-bold tracking-tight text-green-600\"\n                        >\n                          View History\n                        </Link> */}\n                      </div>\n                    </dl>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <AllTransactions\n            transactions={account?.transactions}\n            accountID={accountID}\n          />\n        </>\n      )}\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}